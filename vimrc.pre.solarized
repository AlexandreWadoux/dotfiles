function! s:hascolorscheme(name)
    let pat = 'colors/'.a:name.'.vim'
    return !empty(globpath(&rtp, pat))
endfunction

if ! s:hascolorscheme('solarized')
    finish
endif

if !empty($BADTERM)
    let g:solarized_termcolors=256
endif

if !empty($ITERM_PROFILE)
    let g:solarized_termtrans=1
endif

colorscheme solarized

if !empty($LIGHTTERM)
    set background=light
else
    set background=dark
endif
